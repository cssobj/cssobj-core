<!doctype html>
<head>
  <meta charset="utf-8">
  <title>cssobj playground</title>
  <script type="text/javascript" src="../node_modules/extend_exclude/iife/extend_exclude.js"></script>
  <script type="text/javascript" src="../lib/cssobj.js"></script>
  <style type="text/css" media="screen">
  html,body{
    height:100%;
}
textarea{
    width:80%;
    height:40%;
}
  </style>
</head>
<body>
  <h3>Input JS Object:</h3>
  <textarea id="src" oninput="convert(this)"></textarea>
  <h3>Output CSS String:</h3>
  <textarea id="css"></textarea>
  <script type="text/javascript">
  var testData = [{"p":{"color":"red","back":"23"},".c":[{"color":"red"},{"font":1234}]},{".p":{"color":"red","back":"23ret","@media & condition":{"color":"red2", "@media c2":{color:'blue'}, ".d":{"x":1}}}},{"p3":{"color":"re56565656d","back":"24563","sdf":23453}}]

src.value = JSON.stringify(testData)
var opt = {indent:'  '}
function convert(el){
  try{
    var obj = new Function('return '+el.value)
    var ret = cssobj(obj(), opt, {p:'asdfasdf'})
    document.getElementById('css').value = ret.css
    console.log(ret)
  }catch(e){
    //console.log(e)
  }
}
  convert(src)
  </script>
</body>
