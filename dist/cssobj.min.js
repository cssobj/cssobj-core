var cssobj=function(){"use strict";function n(n){return g(k,n)||g(m,n)}function r(i,f,o){if(o=o||{},g(m,i))return i.map(function(n,t){return r(n,f,o[t]||{parent:o,src:i,index:t,value:i[t]})});if(g(k,i)){var a=o.children=o.children||{},c=o.oldVal=o.lastVal;o.lastVal={},o.prop={},o.diff={};for(var s in i)if(_(i,s))if(!n(i[s])||g(m,i[s])&&!n(i[s][0]))e(o,i,s,f);else{var l=s in a,p=a[s]=r(i[s],f,t(a,s,{parent:o,src:i,key:s,value:i[s]}));c&&!l&&u(f._diff,"added",p)}if(c){for(s in a)s in i||(u(f._diff,"removed",a[s]),delete a[s]);var d=Object.keys(o.lastVal),v=Object.keys(c).filter(function(n){return d.indexOf(n)<0});v.length&&(o.diff.removed=v),Object.keys(o.diff).length&&u(f._diff,"changed",o)}return o}return o}function t(n,r,t){n[r]=n[r]||{};for(var e in t)n[r][e]=t[e];return n[r]}function e(n,r,t,e){var i=n.oldVal,f=n.lastVal,o=i&&i[t],a="$"==t.charAt(0);![].concat(r[t]).forEach(function(i){if(a)"$id"==t&&(e._ref[i]=r);else{var c=g("Function",i)?i(o,n,e):i;u(n.prop,t,c),s(c)&&(o=f[t]=c)}}),!a&&i&&(t in i?i[t]!=f[t]&&u(n.diff,"changed",t):u(n.diff,"added",t))}function i(n,r){for(var t=n;t&&!r(t);)t=t.parent;return t}function u(n,r,t){n[r]=n[r]||[],n[r].push(t)}function f(n,r){return r.reduce(function(n,r){return n.replace(new RegExp("\\\\?("+r[0]+")","g"),function(n,t){return n==t?r[1](t):t})},n)}function o(n){for(var r,t=0,e=0,i=0,u=[];r=n[t];t++)/[\(\[]/.test(r)&&e++,/[\)\]]/.test(r)&&e--,e||","!=r||(u.push(n.substring(i,t)),i=t+1);return u.concat(n.substring(i))}function a(n,r){for(var t="";r-- >0;)t+=n;return t}function c(n,r){for(var t,e=r._localNames,i=function(n,t,i,u){return t?t:"!"===u[0]?i+u.substr(1):(r.local?e[u]||(e[u]=r.prefix+u):e[u]=u,i+e[u])},u=function(n){return n.replace(x,i)},f="",a=n,c=[a];a=a.parent;)c.unshift(a);for(var s=0,l=c.length;s<l;s++)if(t=c[s],t.key&&!b.test(t.key)){if(O.test(t.parent.key))return t.key;if(!O.test(t.key)&&/^@/.test(t.key))return t.key;t.selector||(t.selector=o(t.key).map(function(n){return f?o(f).map(function(r){return n.match(/^&|[^\\]&/)?n.replace(/&/,r):r+" "+n.replace(/\\&/g,"&")}).join(","):n}).join(",")),f=t.selector}return u(f)}function s(n){return n||0===n}function l(n,r,t){var e=a(r.indent,t),i=t<0?"":e+r.indent,u=Object.keys(n.prop),o=function(t,e,i,u){var o=[].concat(n.prop[e]);return o.map(function(o){if(!s(o))return"";var a=d(r,"value",o,e,n);return t+f(e,[["[A-Z]",function(n){return"-"+n.toLowerCase()}]])+i+a+u}).join("")},l=u.map(function(n){return o(i,n,": ",";"+y)}).join("");if(!i)return l;var p="";u.forEach(function(n){j.test(n)&&(p+=o(e,n," ",";"+y))});var v=c(n,r);return v?p+(i?[e,v," {"+y,l,e,"}"+y].join(""):l):p}function p(n,r,t){var e=[],u=[],c=function(n,r){for(var t=n,e=[];t;)b.test(t.key)&&e.unshift(t.key),t=t.parent;var i=e[0].match(b).pop(),a=i+e.reduce(function(n,r){return o(r.replace(b,"")).map(function(r){return r=f(r,[["[><]",function(n){return">"==n?"min-width:":"max-width:"}]]),n?o(n.replace(b,"")).map(function(n){return n+" and "+r}).join(","):r}).join(","+y)},"");r.push(a+" {"+y),u.push(r)},s=function(n,f){if(!n)return"";if(g(m,n))return n.map(function(n){s(n,f)});var o=u[f-1]||e,p=b.test(n.key),d=O.test(n.key),v=!!i(n.parent,function(n){return O.test(n.key)});p&&(f++,o=[],c(n,o));var h=!!f+v,k=a(r.indent,h);if(d&&o.push(k+n.key+" {"+y),Object.keys(n.prop).length&&o.push(l(n,r,h)),t)for(var _ in n.children)s(n.children[_],f);if(d&&o.push(k+"}"+y),p&&(o.push("}"+y),f--),!f)for(;u.length;)e.push(u.shift().join(""))};return s(n,0),e.join("")}function d(n,r){var t=[].slice.call(arguments,2),e=n.plugins[r];return e?[].concat(e).reduce(function(n,r){return r.apply(null,[n].concat(t))},t.shift()):t[0]}function v(n,r){var t,e=function(r){if(g(m,r))return r.some(e);if(r.value==n)return t=r;for(var i in r.children){if(t)return;e(r.children[i])}};return e(r),t}function h(n,t,e){t=t||{};var i={local:!0,indent:"\t",diffOnly:!1,plugins:{}};for(var f in i)f in t||(t[f]=i[f]);t._events={},t.prefix=t.prefix||w();var o=t._ref={},a=t._localNames=e||{},c=r(n,t);t._root=c;var s=function(e,i){l.diff=t._diff={},t._data=i||{};var u="";r(e||n,t,c),t.diffOnly||(u=l.css=p(c,t,!0));var f=t._events.update;return f&&u&&f.forEach(function(n){n(u,t)}),u},l={root:c,obj:n,css:p(c,t,!0),map:a,ref:o,update:s,options:t,on:function(n,r){u(t._events,n,r)},off:function(n,r){var e,i=t._events[n];if(i)return r?void((e=i.indexOf(r))>-1&&i.splice(e,1)):i=[]}};return d(t,"post",l),l}var y="\n",m="Array",k="Object",g=function(n,r){return{}.toString.call(r).slice(8,-1)===n},_=function(n,r){return{}.hasOwnProperty.call(n,r)},j=/@(?:charset|import|namespace)/,b=/^@(?:media|document|supports) /,O=/^@keyframes /,x=/:global\s*\(\s*((?:\.[A-Za-z0-9_-]+\s*)+)\s*\)|(\.)([!A-Za-z0-9_-]+)/g,w=function(){var n=0;return function(){return n++,"_"+Math.floor(Math.random()*Math.pow(2,32)).toString(36)+n+"_"}}();return h.findNode=v,h.getSelector=c,h.makeRule=l,h}();